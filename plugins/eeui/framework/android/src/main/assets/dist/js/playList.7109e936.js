(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["playList"],{"09fe":function(e,t,n){},1276:function(e,t,n){"use strict";var a=n("d784"),c=n("44e7"),l=n("825a"),i=n("1d80"),u=n("4840"),r=n("8aa5"),o=n("50c4"),s=n("577e"),d=n("14c3"),b=n("9263"),v=n("9f7f"),f=n("d039"),j=v.UNSUPPORTED_Y,O=[].push,g=Math.min,p=4294967295,h=!f((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=s(i(this)),l=void 0===n?p:n>>>0;if(0===l)return[];if(void 0===e)return[a];if(!c(e))return t.call(a,e,l);var u,r,o,d=[],v=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,j=new RegExp(e.source,v+"g");while(u=b.call(j,a)){if(r=j.lastIndex,r>f&&(d.push(a.slice(f,u.index)),u.length>1&&u.index<a.length&&O.apply(d,u.slice(1)),o=u[0].length,f=r,d.length>=l))break;j.lastIndex===u.index&&j.lastIndex++}return f===a.length?!o&&j.test("")||d.push(""):d.push(a.slice(f)),d.length>l?d.slice(0,l):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var c=i(this),l=void 0==t?void 0:t[e];return void 0!==l?l.call(t,c,n):a.call(s(c),t,n)},function(e,c){var i=l(this),b=s(e),v=n(a,i,b,c,a!==t);if(v.done)return v.value;var f=u(i,RegExp),O=i.unicode,h=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(j?"g":"y"),m=new f(j?"^(?:"+i.source+")":i,h),y=void 0===c?p:c>>>0;if(0===y)return[];if(0===b.length)return null===d(m,b)?[b]:[];var w=0,x=0,S=[];while(x<b.length){m.lastIndex=j?0:x;var k,P=d(m,j?b.slice(x):b);if(null===P||(k=g(o(m.lastIndex+(j?x:0)),b.length))===w)x=r(b,x,O);else{if(S.push(b.slice(w,x)),S.length===y)return S;for(var C=1;C<=P.length-1;C++)if(S.push(P[C]),S.length===y)return S;x=w=k}}return S.push(b.slice(w)),S}]}),!h,j)},"146f":function(e,t,n){"use strict";n("23f8")},"23f8":function(e,t,n){},"44e7":function(e,t,n){var a=n("861d"),c=n("c6b6"),l=n("b622"),i=l("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==c(e))}},"7b0a":function(e,t,n){},"7bba":function(e,t,n){"use strict";n.r(t);n("da3c");var a=n("0b33"),c=(n("bda7"),n("5e46")),l=(n("ac1f"),n("1276"),n("7a23")),i=(n("68ef"),n("bf60"),n("c199")),u=n("d282"),r=n("db17"),o=n("a6cd"),[s,d]=Object(u["a"])("row"),b=Symbol(s),v=Object(l["m"])({name:s,props:{wrap:r["f"],align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},setup(e,{slots:t}){var{children:n,linkChildren:a}=Object(o["a"])(b),c=Object(l["d"])(()=>{var e=[[]],t=0;return n.forEach((n,a)=>{t+=Number(n.span),t>24?(e.push([a]),t-=24):e[e.length-1].push(a)}),e}),i=Object(l["d"])(()=>{var t=Number(e.gutter),n=[];return t?(c.value.forEach(e=>{var a=t*(e.length-1)/e.length;e.forEach((e,c)=>{if(0===c)n.push({right:a});else{var l=t-n[e-1].right,i=a-l;n.push({left:l,right:i})}})}),n):n});return a({spaces:i}),()=>{var{tag:n,wrap:a,align:c,justify:i}=e;return Object(l["l"])(n,{class:d({["align-"+c]:c,["justify-"+i]:i,nowrap:!a})},{default:()=>[null==t.default?void 0:t.default()]})}}}),f=Object(i["a"])(v),j=f,O=(n("2994"),n("2bdd")),g=n("2909"),p=(n("d81d"),n("99af"),n("afa4")),h=n("0812"),m=(n("cb51"),n("3743"),n("09fe"),n("8da3")),y=n("ea8e"),w=n("ad06"),[x,S]=Object(u["a"])("image"),k=Object(l["m"])({name:x,props:{src:String,alt:String,fit:String,round:Boolean,width:[Number,String],height:[Number,String],radius:[Number,String],lazyLoad:Boolean,iconSize:[Number,String],showError:r["f"],iconPrefix:String,showLoading:r["f"],errorIcon:{type:String,default:"photo-fail"},loadingIcon:{type:String,default:"photo"}},emits:["load","error"],setup(e,{emit:t,slots:n}){var a=Object(l["H"])(!1),c=Object(l["H"])(!0),i=Object(l["H"])(),{$Lazyload:u}=Object(l["n"])().proxy,o=Object(l["d"])(()=>{var t={};return Object(m["a"])(e.width)&&(t.width=Object(y["a"])(e.width)),Object(m["a"])(e.height)&&(t.height=Object(y["a"])(e.height)),Object(m["a"])(e.radius)&&(t.overflow="hidden",t.borderRadius=Object(y["a"])(e.radius)),t});Object(l["R"])(()=>e.src,()=>{a.value=!1,c.value=!0});var s=e=>{c.value=!1,t("load",e)},d=e=>{a.value=!0,c.value=!1,t("error",e)},b=()=>n.loading?n.loading():Object(l["l"])(w["a"],{size:e.iconSize,name:e.loadingIcon,class:S("loading-icon"),classPrefix:e.iconPrefix},null),v=()=>n.error?n.error():Object(l["l"])(w["a"],{size:e.iconSize,name:e.errorIcon,class:S("error-icon"),classPrefix:e.iconPrefix},null),f=()=>c.value&&e.showLoading?Object(l["l"])("div",{class:S("loading")},[b()]):a.value&&e.showError?Object(l["l"])("div",{class:S("error")},[v()]):void 0,j=()=>{if(!a.value&&e.src){var t={alt:e.alt,class:S("img"),style:{objectFit:e.fit}};return e.lazyLoad?Object(l["T"])(Object(l["l"])("img",Object(l["s"])({ref:i},t),null),[[Object(l["L"])("lazy"),e.src]]):Object(l["l"])("img",Object(l["s"])({src:e.src,onLoad:s,onError:d},t),null)}},O=({el:e})=>{e===i.value&&c.value&&s()},g=({el:e})=>{e!==i.value||a.value||d()};return u&&r["c"]&&(u.$on("loaded",O),u.$on("error",g),Object(l["w"])(()=>{u.$off("loaded",O),u.$off("error",g)})),()=>Object(l["l"])("div",{class:S({round:e.round}),style:o.value},[j(),f(),null==n.default?void 0:n.default()])}}),P=Object(i["a"])(k),C=P,I=(n("7b0a"),n("6ba6")),[H,_]=Object(u["a"])("col"),L=Object(l["m"])({name:H,props:{offset:[Number,String],tag:{type:String,default:"div"},span:{type:[Number,String],default:0}},setup(e,{slots:t}){var{parent:n,index:a}=Object(I["a"])(b),c=Object(l["d"])(()=>{if(n){var{spaces:e}=n;if(e&&e.value&&e.value[a.value]){var{left:t,right:c}=e.value[a.value];return{paddingLeft:t?t+"px":null,paddingRight:c?c+"px":null}}}});return()=>{var{tag:n,span:a,offset:i}=e;return Object(l["l"])(n,{style:c.value,class:_({[a]:a,["offset-"+i]:i})},{default:()=>[null==t.default?void 0:t.default()]})}}}),q=Object(i["a"])(L),z=q;n("b0c0");Object(l["F"])("data-v-bcd27e78");var E={class:"name"};Object(l["D"])();var N=Object(l["m"])({props:{detail:{type:null,required:!0}},emits:["toDetail"],setup:function(e,t){var n=t.emit,a=e,c=function(){n("toDetail",Object(l["O"])(a.detail))};return function(e,t){return Object(l["C"])(),Object(l["f"])(Object(l["P"])(z),{span:8,class:"col",onClick:c},{default:Object(l["S"])((function(){return[Object(l["l"])(Object(l["P"])(C),{src:a.detail.imgurl,"lazy-load":""},null,8,["src"]),Object(l["i"])("div",E,Object(l["N"])(a.detail.name),1)]})),_:1})}}});n("f2b9");N.__scopeId="data-v-bcd27e78";var T=N,D=Object(l["m"])({setup:function(e){var t=Object(l["H"])(null),n=Object(l["H"])([]),a=Object(p["e"])(),c=a.request,i=a.loading,u=Object(l["H"])(0),r=Object(l["H"])(0),o=Object(l["H"])(!1),s=30,d=function(){var e=u.value,t={params:{sin:e,ein:e+s-1}};c(t).then((function(e){var t,a=e.data;r.value=(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.sum)||0;var c=n.value.map((function(e){return e}));u.value=u.value+s,n.value=[].concat(Object(g["a"])(c),Object(g["a"])(Object(h["a"])(a.data.list)))})).catch((function(){o.value=!0}))},b=function(e){t.value&&t.value.push({url:"".concat(window.location.href.split("#")[0],"#/playDetail/").concat(e.id),pageType:"web",statusBarType:"immersion",animatedType:"push"})};Object(l["z"])((function(){window.requireModuleJs&&(t.value=window.requireModuleJs("navigator")),d()}));var v=Object(l["d"])((function(){return!0===o.value||n.value.length>0&&u.value>=r.value})),f=function(){i.value||(console.log("下一页"),d())};return function(e,t){return Object(l["C"])(),Object(l["f"])(Object(l["P"])(O["a"]),{class:"list",loading:Object(l["P"])(i),onLoad:f,"finished-text":"没有更多了",finished:Object(l["P"])(v)},{default:Object(l["S"])((function(){return[Object(l["l"])(Object(l["P"])(j),{gutter:10,class:"playList"},{default:Object(l["S"])((function(){return[(Object(l["C"])(!0),Object(l["h"])(l["a"],null,Object(l["I"])(n.value,(function(e){return Object(l["C"])(),Object(l["f"])(T,{key:e.id,detail:e,onToDetail:b},null,8,["detail"])})),128))]})),_:1})]})),_:1},8,["loading","finished"])}}});n("b0b3");D.__scopeId="data-v-4d191c27";var J=D;function M(e,t){return Object(l["C"])(),Object(l["h"])("div",null," 网易云 ")}const R={};R.render=M;var B=R,U=n("71c2"),$=n("2eaa");Object(l["F"])("data-v-13d176dc");var F={class:"playList"},Q=Object(l["k"])(" 音乐整合 ");Object(l["D"])();var A=Object(l["m"])({setup:function(e){var t=44,n=Object($["a"])(),i=n.height,u=Object(l["H"])(0),r=Object(l["H"])(0),o=Object(l["H"])([{title:"QQ音乐",key:"qq"},{title:"网易云",key:"netEase"}]),s=Object(l["H"])(null),d=Object(l["d"])((function(){return o.value[u.value].key})),b=function(e){r.value=e.height},v=Object(l["d"])((function(){return i.value-r.value-t})),f=function(){s.value&&s.value.push({url:"".concat(window.location.href.split("#")[0],"#/searchList"),pageType:"web",statusBarType:"immersion",animatedType:"push"})};return Object(l["z"])((function(){window.requireModuleJs&&(s.value=window.requireModuleJs("navigator"))})),function(e,t){return Object(l["C"])(),Object(l["h"])("div",F,[Object(l["l"])(U["a"],{leftIcon:"arrow-left",rightIcon:"search",onRectChange:b,onRightClick:f},{default:Object(l["S"])((function(){return[Q]})),_:1}),Object(l["l"])(Object(l["P"])(c["a"]),{active:u.value,"onUpdate:active":t[0]||(t[0]=function(e){return u.value=e}),"offset-top":r.value,sticky:"",animated:""},{default:Object(l["S"])((function(){return[(Object(l["C"])(!0),Object(l["h"])(l["a"],null,Object(l["I"])(o.value,(function(e){return Object(l["C"])(),Object(l["f"])(Object(l["P"])(a["a"]),{key:e.key,title:e.title},{default:Object(l["S"])((function(){return[Object(l["i"])("div",{style:Object(l["u"])({height:"".concat(Object(l["P"])(v),"px")}),class:"listBox"},["qq"===e.key&&Object(l["P"])(d)===e.key?(Object(l["C"])(),Object(l["f"])(J,{key:0})):Object(l["g"])("",!0),"netEase"===e.key&&Object(l["P"])(d)===e.key?(Object(l["C"])(),Object(l["f"])(B,{key:1})):Object(l["g"])("",!0)],4)]})),_:2},1032,["title"])})),128))]})),_:1},8,["active","offset-top"])])}}});n("b06d");A.__scopeId="data-v-13d176dc";t["default"]=A},"8aa5":function(e,t,n){"use strict";var a=n("6547").charAt;e.exports=function(e,t,n){return t+(n?a(e,t).length:1)}},"99fc":function(e,t,n){},b06d:function(e,t,n){"use strict";n("99fc")},b0b3:function(e,t,n){"use strict";n("cb4a")},bf60:function(e,t,n){},cb4a:function(e,t,n){},e526:function(e,t,n){},f1f0:function(e,t,n){"use strict";n.r(t);n("68ef"),n("e3b3");var a=n("543e"),c=(n("2994"),n("2bdd")),l=(n("c3a6"),n("ad06")),i=(n("e7e5"),n("d399")),u=(n("d81d"),n("b0c0"),n("a15b"),n("99af"),n("7a23")),r=n("0812"),o=n("d823"),s=n("6c02"),d=n("afa4"),b=n("8c53");Object(u["F"])("data-v-5a57eb90");var v={class:"playContent"},f={class:"header"},j={class:"text"},O=["src"],g={key:1,class:"loading"},p=Object(u["k"])("加载中...");Object(u["D"])();var h=Object(u["m"])({setup:function(e){var t=function(e){var t=e||[],n=t.map((function(e){return e.name}));return n.join(" / ")},n=Object(s["c"])(),h=Object(u["H"])(null),m=Object(u["H"])(null),y=Object(d["b"])(),w=y.loading,x=y.request,S=Object(u["H"])(""),k=Object(u["H"])(null),P=Object(u["H"])(null),C=Object(u["H"])({}),I=function(){var e=new Image,t=document.createElement("canvas"),n=null===t||void 0===t?void 0:t.getContext("2d");e.src=C.value.logo||"",e.crossOrigin="anonymous",e.onload=function(){if(n){n.drawImage(e,0,0);var t=n.getImageData(0,0,e.width,e.height).data,a="(".concat(t[0],",").concat(t[1],",").concat(t[2],", 0.7)"),c="(".concat(t[4],",").concat(t[5],",").concat(t[6],",0.7)"),l="(".concat(t[8],",").concat(t[9],",").concat(t[10],",0.7)");S.value="linear-gradient(rgba".concat(a,",rgba").concat(c,", rgba").concat(l,")")}}},H=function(){var e=null===n||void 0===n?void 0:n.params;x({params:{disstid:(null===e||void 0===e?void 0:e.id)||""}}).then((function(e){var t,n,a=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.cdlist)||void 0===n?void 0:n[0];C.value={title:null===a||void 0===a?void 0:a.dissname,logo:(null===a||void 0===a?void 0:a.logo)||"",songList:Object(r["b"])((null===a||void 0===a?void 0:a.songlist)||[])},I()}))},_=Object(u["H"])(0),L=Object(u["H"])(0),q=Object(u["d"])((function(){var e=L.value/_.value;return e>1?1:e})),z=Object(u["d"])((function(){return h.value?h.value.getStatusBarHeightPx()/2:0})),E=function(){m.value&&m.value.pop()},N=function(e){var n=e.albummid?Object(d["a"])(e.albummid,"album"):"";Object(d["c"])(e).then((function(a){var c,l,u,r,o,s,d,b=(null===a||void 0===a||null===(c=a.data)||void 0===c||null===(l=c.req_0)||void 0===l?void 0:l.data)||{},v=null===b||void 0===b||null===(u=b.midurlinfo)||void 0===u||null===(r=u[0])||void 0===r?void 0:r.purl,f=v&&"".concat((null===b||void 0===b||null===(o=b.sip)||void 0===o?void 0:o[0])||"").concat((null===b||void 0===b||null===(s=b.midurlinfo)||void 0===s||null===(d=s[0])||void 0===d?void 0:d.purl)||"");f||i["a"].fail("获取资源失败");var j={pageName:"index",module:"playSong",songUrl:f,songImage:n,singer:t(e.singer),songname:e.songname};null!==h.value&&h.value.postMessage(j)}))},T=function(e){L.value=null===e||void 0===e?void 0:e.target.scrollTop};return Object(u["z"])((function(){if(H(),P.value){var e=Object(b["a"])(P.value);_.value=e.height}window.requireModuleJs&&(h.value=window.requireModuleJs("eeui"),m.value=window.requireModuleJs("navigator"))})),function(e,t){return Object(u["P"])(w)?(Object(u["C"])(),Object(u["h"])("div",g,[Object(u["l"])(Object(u["P"])(a["b"]),{size:"24px"},{default:Object(u["S"])((function(){return[p]})),_:1})])):(Object(u["C"])(),Object(u["h"])("div",{key:0,class:"playList",ref:k,onScroll:T},[Object(u["i"])("div",v,[Object(u["i"])("div",f,[Object(u["i"])("div",{class:"content",style:Object(u["u"])({paddingTop:"".concat(Object(u["P"])(z),"px")})},[Object(u["i"])("div",{class:"bg",style:Object(u["u"])({opacity:Object(u["P"])(q)})},null,4),Object(u["l"])(Object(u["P"])(l["b"]),{class:"icon",name:"arrow-left",color:"#ffffff",onClick:Object(u["U"])(E,["stop"])},null,8,["onClick"]),Object(u["i"])("div",j,Object(u["N"])(Object(u["P"])(q)>=1&&C.value.title||"歌单"),1)],4)]),Object(u["i"])("div",{class:"top_content",ref:P},[Object(u["i"])("div",{class:"bg",style:Object(u["u"])({backgroundImage:S.value})},null,4),Object(u["i"])("img",{class:"logo",src:C.value.logo,alt:"歌单"},null,8,O)],512),Object(u["l"])(Object(u["P"])(c["a"]),{"finished-text":"没有更多了",finished:!0},{default:Object(u["S"])((function(){return[(Object(u["C"])(!0),Object(u["h"])(u["a"],null,Object(u["I"])(C.value.songList,(function(e){return Object(u["C"])(),Object(u["f"])(o["a"],{key:e.songid,song:e,onPlaySong:N},null,8,["song"])})),128))]})),_:1})])],544))}}});n("146f");h.__scopeId="data-v-5a57eb90";t["default"]=h},f2b9:function(e,t,n){"use strict";n("e526")}}]);
//# sourceMappingURL=playList.7109e936.js.map